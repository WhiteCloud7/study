{"version":3,"file":"js/254.1c953ed6.js","mappings":"sjBAiCAA,EAAAA,EAAAA,GAAQ,CACNC,MAAO,OAGT,MAAMC,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAgBD,EAAAA,EAAAA,IAAI,IACpBE,GAAWF,EAAAA,EAAAA,IAAI,IAEfG,GAA2BH,EAAAA,EAAAA,KAAI,GAC/BI,GAA2BJ,EAAAA,EAAAA,KAAI,GAC/BK,GAA2BL,EAAAA,EAAAA,KAAI,GAC/BM,GAA2BN,EAAAA,EAAAA,KAAI,GAC9BO,GAAqBP,EAAAA,EAAAA,KAAI,GAC1BQ,GAAWC,EAAAA,EAAAA,MAGXC,GAFgBF,EAASG,WAAWC,OAAOC,iBAAiBC,eAE3CJ,KA+BlBT,EAAcc,QAAQb,EAASa,MAChCC,EAAAA,EAAMC,IAAI,iCAAkC,CAC1CC,OAAQ,CACNnB,SAAUA,EAASgB,MACnBb,SAAUA,EAASa,SAEpBI,MAAKC,IACN,MAAMC,EAAOD,EAAIC,KACjB,GAAa,UAATA,EACFC,MAAM,eACH,GAAY,oBAATD,EACNC,MAAM,wBACH,CACH,MAAMC,EAAYC,QAAQ,gBACvBD,GACDE,SAASC,OAAO,SACpB,KACCC,OAAMC,IACPC,QAAQC,IAAIF,EAAI,IAIlBrB,EAAmBQ,OAAQ,CAAI,G,8yCChGnC,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://blog/./src/views/userRegister.vue","webpack://blog/./src/views/userRegister.vue?ef6f"],"sourcesContent":["<template>\r\n  <div class=\"register-document\">\r\n    <div class=\"register-container\">\r\n      <h1>注册</h1>\r\n      <form @submit.prevent=\"handleRegister\">\r\n        <div class=\"register-formGroup\">\r\n          <label for=\"username\">用户名</label>\r\n          <input type=\"text\" id=\"username\" v-model=\"username\" placeholder=\"请输入用户名\" required>\r\n          <label class=\"register-check\" v-if=\"usernameLengthIllegality\">账号为6-16位的字母数字组合</label>\r\n          <label class=\"register-check\" v-if=\"usernamePattenIllegality\">账号不能包含特殊字符</label>\r\n        </div>\r\n        <div class=\"register-formGroup\">\r\n          <label for=\"password\">密码</label>\r\n          <input type=\"password\" id=\"password\" v-model=\"password\" placeholder=\"请输入密码\" required>\r\n          <label class=\"register-check\" v-if=\"passwordLengthIllegality\">密码为6-20位的字母、数字、合法字符组合</label>\r\n          <label class=\"register-check\" v-if=\"passwordPattenIllegality\">密码不能包含非法字符</label>\r\n        </div>\r\n        <div class=\"register-formGroup\">\r\n          <label for=\"email\">再此输入密码</label>\r\n          <input type=\"password\" id=\"passwordCheck\" v-model=\"passwordCheck\" placeholder=\"再次输入密码\" required>\r\n          <label class=\"register-check\" v-if=\"passwordCheckError\">两次密码不一致</label>\r\n        </div>\r\n        <button type=\"submit\">注册</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref,getCurrentInstance} from 'vue';\r\nimport { useHead } from \"@vueuse/head\";\r\nimport axios from \"axios\";\r\n\r\nuseHead({\r\n  title: \"注册\"\r\n});\r\n\r\nconst username = ref('');\r\nconst passwordCheck = ref('');\r\nconst password = ref('');\r\n\r\nconst usernameLengthIllegality = ref(false);\r\nconst usernamePattenIllegality = ref(false);\r\nconst passwordLengthIllegality = ref(false);\r\nconst passwordPattenIllegality = ref(false);\r\nconst  passwordCheckError = ref(false);\r\nconst instance = getCurrentInstance();\r\nconst illegalityStr = instance.appContext.config.globalProperties.$illegalityStr;\r\n\r\nconst handleRegister = () => {\r\n  //passwordCheckError.value = false;\r\n  // usernameLengthIllegality.value = false;\r\n  // usernamePattenIllegality.value = false;\r\n  // passwordLengthIllegality.value = false;\r\n  // passwordLengthIllegality.value = false;\r\n  //\r\n  // const regex1 = /^[a-zA-Z0-9]{6,12}$/\r\n  // const escapedChars = illegalityStr.map(char => /[.*+?^${}()|[\\]\\\\]/.test(char) ? `\\\\${char}` : char);\r\n  // const regex2 = new RegExp(`[${escapedChars.join('')}]`);\r\n  //\r\n  // if(username.value.length<6||username.value.length>16){\r\n  //   usernameLengthIllegality.value = true;\r\n  //   if(password.value.length<6||password.value.length>20){\r\n  //     passwordLengthIllegality.value = true;\r\n  //   }else if(regex2.test(password.value)){\r\n  //     passwordPattenIllegality.value = true;\r\n  //   }\r\n  //   return;\r\n  // }\r\n  //\r\n  // if(!regex1.test(username.value)){\r\n  //   usernamePattenIllegality.value = true;\r\n  //   if(password.value.length<6||password.value.length>20){\r\n  //     passwordLengthIllegality.value = true;\r\n  //   }else if(regex2.test(password.value)){\r\n  //     passwordPattenIllegality.value = true;\r\n  //   }\r\n  //   return;\r\n  // }\r\n\r\n  if(passwordCheck.value===password.value) {\r\n    axios.get(\"http://localhost:8081/register\", {\r\n      params: {\r\n        username: username.value,\r\n        password: password.value\r\n      }\r\n    }).then(res => {\r\n      const data = res.data;\r\n      if (data === \"用户已存在\")\r\n        alert(\"用户已存在!\")\r\n      else if(data === \"账号或密码校验错误，请重新输入\")\r\n        alert(\"账号或密码校验错误，请重新输入!\")\r\n      else {\r\n        const isConfirm = confirm(\"注册成功，确认前往登录！\");\r\n        if(isConfirm)\r\n          location.assign(\"/login\");\r\n      }\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n  else\r\n    passwordCheckError.value = true;\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-document {\r\n  background-image: url(\"@/assets/photo/view.png\");\r\n  font-family: Arial, sans-serif;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  margin: 0;\r\n  background-color: #f4f4f9;\r\n}\r\n\r\n.register-container {\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  width: 300px;\r\n}\r\n\r\n.register-container h1 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.register-formGroup {\r\n  margin-bottom: 7px;\r\n}\r\n\r\n.register-check{\r\n  color: red;\r\n  font-size: 8px;\r\n}\r\n\r\n.register-formGroup label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.register-formGroup input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.register-container button {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #007BFF;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.register-container button:hover {\r\n  background-color: #0056b3;\r\n}\r\n</style>","import script from \"./userRegister.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./userRegister.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./userRegister.vue?vue&type=style&index=0&id=14a97dcc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-14a97dcc\"]])\n\nexport default __exports__"],"names":["useHead","title","username","ref","passwordCheck","password","usernameLengthIllegality","usernamePattenIllegality","passwordLengthIllegality","passwordPattenIllegality","passwordCheckError","instance","getCurrentInstance","handleRegister","appContext","config","globalProperties","$illegalityStr","value","axios","get","params","then","res","data","alert","isConfirm","confirm","location","assign","catch","err","console","log","__exports__"],"sourceRoot":""}