"use strict";(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[782],{6782:function(e,o,n){n.r(o),n.d(o,{default:function(){return m}});var a=n(6436),l=n(1469),t=n(5167),s=n(5647),r=n(8207),u=n(9733);const i={class:"login-document"},c={class:"login-container"},p={class:"login-formGroup"},d={class:"login-formGroup"};var g={__name:"userLogin",setup(e){const o=(0,a.nI)(),n=o?.appContext.config.globalProperties.$isLogin,g=(0,t.KR)(""),k=(0,t.KR)("");function m(){location.assign("/register")}function v(){n.value=!1,sessionStorage.removeItem("token"),u.A.remove("refreshToken")}function f(){console.log(n.value),r.A.get("http://localhost:8081/login",{params:{username:g.value,password:k.value}}).then((e=>{const o=e.data;"密码错误"===o.message?alert("密码错误，请重新登录!"):"账号不存在"===o.message?alert("账号不存在"):(v(),null!==o.data&&(n.value=!0,sessionStorage.setItem("token",o.data),location.assign("/index")))})).catch((e=>{console.log(e)}))}return(0,s.u)({title:"登录"}),(e,o)=>((0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",c,[o[5]||(o[5]=(0,a.Lk)("h1",null,"登录",-1)),(0,a.Lk)("form",{onSubmit:(0,l.D$)(f,["prevent"])},[(0,a.Lk)("div",p,[o[2]||(o[2]=(0,a.Lk)("label",{for:"username"},"用户名",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":o[0]||(o[0]=e=>g.value=e),placeholder:"请输入用户名",required:""},null,512),[[l.Jo,g.value]])]),(0,a.Lk)("div",d,[o[3]||(o[3]=(0,a.Lk)("label",{for:"password"},"密码",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=e=>k.value=e),placeholder:"请输入密码",required:""},null,512),[[l.Jo,k.value]])]),o[4]||(o[4]=(0,a.Lk)("button",{type:"submit"},"登录",-1)),(0,a.Lk)("p",{onClick:m,class:"login-register"},"还没有账号？点我注册")],32)])]))}};const k=g;var m=k}}]);
//# sourceMappingURL=782.c27ba9a9.js.map