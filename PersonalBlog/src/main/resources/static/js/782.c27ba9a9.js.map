{"version":3,"file":"js/782.c27ba9a9.js","mappings":"4WAyBA,MAAMA,GAAWC,EAAAA,EAAAA,MACXC,EAAUF,GAAUG,WAAWC,OAAOC,iBAAiBC,SACvDC,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAWD,EAAAA,EAAAA,IAAI,IAErB,SAASE,IACPC,SAASC,OAAO,YAClB,CAEA,SAASC,IACPX,EAAQY,OAAQ,EAChBC,eAAeC,WAAW,SAC1BC,EAAAA,EAAOC,OAAO,eAChB,CAEA,SAASC,IACPC,QAAQC,IAAInB,EAAQY,OACpBQ,EAAAA,EAAMC,IAAI,8BAA8B,CACtCC,OAAO,CACLjB,SAASA,EAASO,MAClBL,SAASA,EAASK,SAEnBW,MAAKC,IACN,MAAMC,EAAOD,EAAIC,KACI,SAAjBA,EAAKC,QACPC,MAAM,eACkB,UAAjBF,EAAKC,QACZC,MAAM,UAENhB,IACe,OAAZc,EAAKA,OACNzB,EAAQY,OAAQ,EAChBC,eAAee,QAAQ,QAASH,EAAKA,MACrChB,SAASC,OAAO,WAEpB,IACCmB,OAAMC,IACPZ,QAAQC,IAAIW,EAAI,GAEpB,C,OAEAC,EAAAA,EAAAA,GAAQ,CACNC,MAAM,O,wvBC9DR,MAAMC,EAAc,EAEpB,O","sources":["webpack://blog/./src/views/userLogin.vue","webpack://blog/./src/views/userLogin.vue?7444"],"sourcesContent":["<template>\r\n  <div class=\"login-document\">\r\n    <div class=\"login-container\">\r\n      <h1>登录</h1>\r\n      <form @submit.prevent=\"handleLogin\">\r\n        <div class=\"login-formGroup\">\r\n          <label for=\"username\">用户名</label>\r\n          <input type=\"text\" id=\"username\" v-model=\"username\" placeholder=\"请输入用户名\" required>\r\n        </div>\r\n        <div class=\"login-formGroup\">\r\n          <label for=\"password\">密码</label>\r\n          <input type=\"password\" id=\"password\" v-model=\"password\" placeholder=\"请输入密码\" required>\r\n        </div>\r\n        <button type=\"submit\">登录</button>\r\n        <p @click=\"goToRegister\" class=\"login-register\">还没有账号？点我注册</p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref,getCurrentInstance} from 'vue';\r\nimport {useHead} from \"@vueuse/head\";\r\nimport axios from 'axios';\r\nimport cookie from \"js-cookie\";\r\n\r\nconst instance = getCurrentInstance();\r\nconst isLogin = instance?.appContext.config.globalProperties.$isLogin;\r\nconst username = ref('');\r\nconst password = ref('');\r\n\r\nfunction goToRegister(){\r\n  location.assign(\"/register\");\r\n}\r\n\r\nfunction initUser(){\r\n  isLogin.value = false;\r\n  sessionStorage.removeItem(\"token\");\r\n  cookie.remove(\"refreshToken\");\r\n}\r\n\r\nfunction handleLogin(){\r\n  console.log(isLogin.value);\r\n  axios.get(\"http://localhost:8081/login\",{\r\n    params:{\r\n      username:username.value,\r\n      password:password.value\r\n    }\r\n  }).then(res=> {\r\n    const data = res.data;\r\n    if (data.message === \"密码错误\")\r\n      alert(\"密码错误，请重新登录!\")\r\n    else if (data.message === \"账号不存在\")\r\n      alert(\"账号不存在\")\r\n    else {\r\n      initUser();\r\n      if(data.data!==null){\r\n        isLogin.value = true;\r\n        sessionStorage.setItem(\"token\", data.data);\r\n        location.assign(\"/index\");\r\n      }\r\n    }\r\n  }).catch(err=>{\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nuseHead({\r\n  title:\"登录\"\r\n})\r\n</script>\r\n<style>\r\n.login-document {\r\n  background-image: url(\"@/assets/photo/view.png\");\r\n  font-family: Arial, sans-serif;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  margin: 0;\r\n  background-color: #f4f4f9;\r\n}\r\n\r\n.login-container {\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  width: 300px;\r\n}\r\n\r\n.login-container h1 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.login-formGroup {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.login-formGroup label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.login-formGroup input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.login-container button {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #007BFF;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.login-container button:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.login-register{\r\n  margin-top: 10px;\r\n  margin-left: 40px;\r\n  cursor: pointer;\r\n  color: rgba(0, 0, 0, 0.74);\r\n}\r\n</style>","import script from \"./userLogin.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./userLogin.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./userLogin.vue?vue&type=style&index=0&id=59149754&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["instance","getCurrentInstance","isLogin","appContext","config","globalProperties","$isLogin","username","ref","password","goToRegister","location","assign","initUser","value","sessionStorage","removeItem","cookie","remove","handleLogin","console","log","axios","get","params","then","res","data","message","alert","setItem","catch","err","useHead","title","__exports__"],"sourceRoot":""}