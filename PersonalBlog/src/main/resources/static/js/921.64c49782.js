"use strict";(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[921],{6921:function(e,a,l){l.r(a),l.d(a,{default:function(){return y}});l(4114);var n=l(6436),s=l(7959),t=l(5167),o=l(5032),u=l(3229);const r={class:"profile-content"},i={class:"nickname"},c={class:"profile-item"},v={class:"profile-info"},p={class:"profile-item"},f={class:"profile-info"},k={style:{"margin-left":"10px"}},h={class:"profile-item"},g={class:"profile-info"},d={class:"profile-item"},L={class:"profile-info"},m={class:"profile-item"},_={class:"profile-info"},R={class:"profile-item"},b={class:"profile-info"};var w={__name:"personalInfo",props:{username:String},setup(e){const a=(0,u.rd)(),l=(0,u.lq)(),w=(0,t.KR)(""),K=(0,t.KR)(""),y=(0,t.KR)(""),x=(0,t.KR)(""),D=(0,t.KR)(""),q=(0,t.KR)(""),C=(0,t.KR)(""),F=(0,t.KR)(""),I=(0,t.KR)(""),M=(0,n.nI)(),T=M?.appContext.config.globalProperties.$isLogin,A=e;function P(e){const a=new Date(e),l=new Date;let n=l.getFullYear()-a.getFullYear();const s=l.getMonth()-a.getMonth();return(s<0||0===s&&l.getDate()<a.getDate())&&n--,n}function Q(){null===A.username||void 0===A.username?o.A.get("http://localhost:8081/profile",{responseType:"json"}).then((e=>{const a=e.data.data;w.value=a.avatar_src,K.value=a.nikeName,y.value=a.sex,D.value=a.birthday,q.value=a.phone,C.value=a.qq,F.value=a.wechat,I.value=a.school,x.value=P(D.value)})).catch((e=>{console.log(e)})):o.A.get("http://localhost:8081/friendProfile",{params:{username:A.username},responseType:"json"}).then((e=>{const a=e.data.data;w.value=a.avatar_src,K.value=a.nikeName,y.value=a.sex,D.value=a.birthday,q.value=a.phone,C.value=a.qq,F.value=a.wechat,I.value=a.school,x.value=P(D.value)})).catch((e=>{console.log(e)}))}function Y(e){!0===T.value?o.A.get("http://localhost:8081/addFriend",{params:{username:e}}).then((()=>{confirm("添加成功！确认返回聊天界面")&&a.push("/contactMe")})).catch(console.log):a.push("/login")}return(0,n.sV)((()=>{Q()})),(0,n.nT)((()=>{const e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0),l=a-e;setTimeout((()=>{x.value=P(D.value),setInterval((()=>{x.value=P(D.value)}),864e5)}),l)})),(a,o)=>{const u=(0,n.g2)("el-avatar"),M=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)("div",r,[o[9]||(o[9]=(0,n.Lk)("h1",null,"个人资料",-1)),(0,n.Lk)("div",i,[(0,n.bF)(u,{src:w.value,size:"100"},null,8,["src"]),(0,n.Lk)("span",null,(0,s.v_)(K.value),1)]),(0,n.Lk)("div",c,[o[1]||(o[1]=(0,n.Lk)("span",null,"性别:",-1)),(0,n.Lk)("span",v,(0,s.v_)(y.value),1)]),(0,n.Lk)("div",p,[o[2]||(o[2]=(0,n.Lk)("span",null,"年龄:",-1)),(0,n.Lk)("span",f,(0,s.v_)(x.value),1),o[3]||(o[3]=(0,n.Lk)("span",{style:{"margin-left":"10px"}},"生日:",-1)),(0,n.Lk)("span",k,(0,s.v_)(D.value),1)]),(0,n.Lk)("div",h,[o[4]||(o[4]=(0,n.Lk)("span",null,"电话:",-1)),(0,n.Lk)("span",g,(0,s.v_)(q.value),1)]),(0,n.Lk)("div",d,[o[5]||(o[5]=(0,n.Lk)("span",null,"QQ:",-1)),(0,n.Lk)("span",L,(0,s.v_)(C.value),1)]),(0,n.Lk)("div",m,[o[6]||(o[6]=(0,n.Lk)("span",null,"微信:",-1)),(0,n.Lk)("span",_,(0,s.v_)(F.value),1)]),(0,n.Lk)("div",R,[o[7]||(o[7]=(0,n.Lk)("span",null,"毕业院校:",-1)),(0,n.Lk)("span",b,(0,s.v_)(I.value),1)]),"userProfile"===(0,t.R1)(l).path.slice(0,(0,t.R1)(l).path.lastIndexOf("/"))?((0,n.uX)(),(0,n.Wv)(M,{key:0,style:{width:"100px"},onClick:o[0]||(o[0]=a=>Y(e.username))},{default:(0,n.k6)((()=>o[8]||(o[8]=[(0,n.eW)("添加好友")]))),_:1})):(0,n.Q3)("",!0)])}}};const K=w;var y=K}}]);
//# sourceMappingURL=921.64c49782.js.map